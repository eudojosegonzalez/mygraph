/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@tinymce/tinymce-webcomponent@2.3.1/dist/tinymce-webcomponent.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(){"use strict";const t="undefined"!=typeof window?window:Function("return this;")(),e=(e,o)=>((e,o)=>{let n=null!=o?o:t;for(let t=0;t<e.length&&null!=n;++t)n=n[e[t]];return n})(e.split("."),o),o=Object.keys,n=Object.hasOwnProperty,i=(t,e)=>n.call(t,e);let s=0;const r=t=>{const e=(new Date).getTime(),o=Math.floor(1e9*Math.random());return s++,t+"_"+o+s+String(e)},a=()=>({listeners:[],scriptId:r("tiny-script"),scriptLoaded:!1}),l=(()=>{let t=a();return{load:(e,o,n)=>{t.scriptLoaded?n():(t.listeners.push(n),e.getElementById(t.scriptId)||((t,e,o,n)=>{const i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=t,i.src=o;const s=()=>{i.removeEventListener("load",s),n()};i.addEventListener("load",s),e.head&&e.head.appendChild(i)})(t.scriptId,e,o,(()=>{t.listeners.forEach((t=>t())),t.scriptLoaded=!0})))},reinitialize:()=>{t=a()}}})(),d=t=>parseInt(t,10),u=(t,e)=>{const o=t-e;return 0===o?0:o>0?1:-1},h=(t,e,o)=>({major:t,minor:e,patch:o}),c=t=>{const e=/([0-9]+)\.([0-9]+)\.([0-9]+)(?:(\-.+)?)/.exec(t);return e?h(d(e[1]),d(e[2]),d(e[3])):h(0,0,0)},m=(t,e)=>!!t&&-1===((t,e)=>{const o=u(t.major,e.major);if(0!==o)return o;const n=u(t.minor,e.minor);if(0!==n)return n;const i=u(t.patch,e.patch);return 0!==i?i:0})((t=>c((t=>[t.majorVersion,t.minorVersion].join(".").split(".").slice(0,3).join("."))(t)))(t),c(e));var _;!function(t){t[t.Raw=0]="Raw",t[t.Initializing=1]="Initializing",t[t.Ready=2]="Ready"}(_||(_={}));const b=(t,e)=>{const o=e.closest(t);if(null!==o)return o;const n=e.getRootNode().host;return null!=n?b(t,n):null},p=t=>e=>((t,e)=>i(t,e))(t,e)?t[e]:e,f=e,g=t=>t,v=p({false:!1}),y=p({true:!0,false:!1}),A=t=>/^\d+$/.test(t)?Number.parseInt(t,10):t,C={setup:f,statusbar:y,toolbar:v,menubar:v,plugins:g,content_css:g,content_style:g,width:A,height:A,toolbar_mode:g,contextmenu:v,quickbars_insert_toolbar:v,quickbars_selection_toolbar:v,powerpaste_word_import:g,powerpaste_html_import:g,powerpaste_allow_local_images:y,resize:y,skin:g,skin_url:g,images_upload_url:g,images_upload_handler:f,images_upload_base_path:g,images_upload_credentials:y,images_reuse_filename:y,icons:g,icons_url:g,promotion:y},w={};class D extends HTMLElement{static get formAssociated(){return!0}static get observedAttributes(){return["form","readonly","autofocus","placeholder","disabled"].concat(["on-BeforePaste","on-Blur","on-Click","on-ContextMenu","on-Copy","on-Cut","on-Dblclick","on-Drag","on-DragDrop","on-DragEnd","on-DragGesture","on-DragOver","on-Drop","on-Focus","on-FocusIn","on-FocusOut","on-KeyDown","on-KeyPress","on-KeyUp","on-MouseDown","on-MouseEnter","on-MouseLeave","on-MouseMove","on-MouseOut","on-MouseOver","on-MouseUp","on-Paste","on-SelectionChange"]).concat(["on-Activate","on-AddUndo","on-BeforeAddUndo","on-BeforeExecCommand","on-BeforeGetContent","on-BeforeRenderUI","on-BeforeSetContent","on-Change","on-ClearUndos","on-Deactivate","on-Dirty","on-ExecCommand","on-GetContent","on-Hide","on-Init","on-LoadContent","on-NodeChange","on-PostProcess","on-PostRender","on-PreProcess","on-ProgressState","on-Redo","on-Remove","on-Reset","on-SaveContent","on-SetAttrib","on-ObjectResizeStart","on-ObjectResized","on-ObjectSelected","on-SetContent","on-Show","on-Submit","on-Undo","on-VisualAid"])}constructor(){super(),this._eventAttrHandler=t=>{t.forEach((t=>{var e;"attributes"===t.type&&t.target===this&&(null===(e=t.attributeName)||void 0===e?void 0:e.toLowerCase().startsWith("on-"))&&this._updateEventAttr(t.attributeName,this.getAttribute(t.attributeName))}))},this._formDataHandler=t=>{const e=this.name;if(null!=e){const o=this.value;if(null!=o){t.formData.append(e,o)}}},this._status=_.Raw,this._shadowDom=this.attachShadow({mode:"open"}),this._form=null,this._eventHandlers={},this._mutationObserver=new MutationObserver(this._eventAttrHandler)}_updateEventAttr(t,o){const n=t.substring(3).toLowerCase(),i=null!==o?e(o):void 0,s="function"==typeof i?i:void 0;this._eventHandlers[n]!==s&&(this._editor&&this._eventHandlers[n]&&this._editor.off(n,this._eventHandlers[n]),s?(this._editor&&this._editor.on(n,s),this._eventHandlers[n]=s):delete this._eventHandlers[n])}_updateForm(){if(this.isConnected){const t=this.getAttribute("form"),e=null!==t?this.ownerDocument.querySelector("form#"+t):b("form",this);this._form!==e&&(null!==this._form&&this._form.removeEventListener("formdata",this._formDataHandler),this._form=e,null!==this._form&&this._form.addEventListener("formdata",this._formDataHandler))}else null!==this._form&&(this._form.removeEventListener("formdata",this._formDataHandler),this._form=null)}_getTinymce(){return t.tinymce}_getConfig(){var t,e;const o=null!==(e=f(null!==(t=this.getAttribute("config"))&&void 0!==t?t:""))&&void 0!==e?e:{};for(let t=0;t<this.attributes.length;t++){const e=this.attributes.item(t);if(null!==e&&i(C,e.name)){o[i(w,e.name)?w[e.name]:e.name]=C[e.name](e.value)}}return this.readonly&&(o.readonly=!0),this.disabled&&(o.disabled=!0),this.autofocus&&(o.auto_focus=!0),delete o.target,delete o.selector,o}_getEventHandlers(){const t={};for(let o=0;o<this.attributes.length;o++){const n=this.attributes.item(o);if(null!==n&&n.name.toLowerCase().startsWith("on-")){const o=n.name.toLowerCase().substring(3),i=e(n.value);"function"==typeof i&&(t[o]=i)}}return t}_doInit(){var t,e;this._status=_.Initializing;const n=document.createElement("textarea");n.value=null!==(t=this.textContent)&&void 0!==t?t:"";const i=null===(e=this.attributes.getNamedItem("id"))||void 0===e?void 0:e.value;i&&(n.id=i),null!==this.placeholder&&(n.placeholder=this.placeholder),this._shadowDom.appendChild(n);const s=this._getConfig(),r=Object.assign(Object.assign(Object.assign({},s),{disabled:this.hasAttribute("disabled"),readonly:this.hasAttribute("readonly")}),{target:n,setup:t=>{this._editor=t,t.on("init",(t=>{this._status=_.Ready})),t.on("SwitchMode",(t=>{this.readonly=this.readonly})),t.on("DisabledStateChange",(t=>{this.disabled=this.disabled})),((t,e)=>{const n=o(t);for(let o=0,i=n.length;o<i;o++){const i=n[o];e(t[i],i)}})(this._eventHandlers,((e,o)=>{void 0!==e&&t.on(o,e)})),"function"==typeof s.setup&&s.setup(t)}});this._getTinymce().init(r)}_getTinymceSrc(){var t;const e=this.getAttribute("src");if(e)return e;const o=null!==(t=this.getAttribute("channel"))&&void 0!==t?t:"8";return`https://cdn.tiny.cloud/1/${this.hasAttribute("api-key")?this.getAttribute("api-key"):"no-api-key"}/tinymce/${o}/tinymce.min.js`}_loadTinyDoInit(){this._getTinymce()?this._doInit():l.load(this.ownerDocument,this._getTinymceSrc(),(()=>this._doInit()))}attributeChangedCallback(t,e,o){e!==o&&("form"===t?this._updateForm():"disabled"===t?this.disabled=null!==o:"readonly"===t?this.readonly=null!==o:"autofocus"===t?this.autofocus=null!==o:"placeholder"===t?this.placeholder=o:t.toLowerCase().startsWith("on-")&&this._updateEventAttr(t,o))}connectedCallback(){this._eventHandlers=this._getEventHandlers(),this._mutationObserver.observe(this,{attributes:!0,childList:!1,subtree:!1}),this._updateForm(),this._status===_.Raw&&this._loadTinyDoInit()}disconnectedCallback(){this._mutationObserver.disconnect(),this._updateForm()}get value(){var t,e;return null!==(e=this._status===_.Ready?null===(t=this._editor)||void 0===t?void 0:t.getContent():void 0)&&void 0!==e?e:null}set value(t){var e;this._status===_.Ready&&null!=t&&(null===(e=this._editor)||void 0===e||e.setContent(t))}get readonly(){return this._editor?"readonly"===this._editor.mode.get():this.hasAttribute("readonly")}set readonly(t){t?(this._editor&&"readonly"!==this._editor.mode.get()&&this._editor.mode.set("readonly"),this.hasAttribute("readonly")||this.setAttribute("readonly","")):(this._editor&&"readonly"===this._editor.mode.get()&&this._editor.mode.set("design"),this.hasAttribute("readonly")&&this.removeAttribute("readonly"))}get disabled(){return this._editor?this._editor.options.get("disabled"):this.hasAttribute("disabled")}set disabled(t){var e;const o=null===(e=this._getTinymce)||void 0===e?void 0:e.call(this),n=!o||(t=>!m(t,"7.6.0"))(o);this._editor&&this._status===_.Ready&&n&&this._editor.options.set("disabled",t),t&&!this.hasAttribute("disabled")?this.setAttribute("disabled",""):!t&&this.hasAttribute("disabled")&&this.removeAttribute("disabled")}get placeholder(){return this.getAttribute("placeholder")}set placeholder(t){if(this._editor){const e=this._editor.getElement();null!==e&&(null!==t?e.setAttribute("placeholder",t):e.removeAttribute("placeholder"))}null!==t?this.getAttribute("placeholder")!==t&&this.setAttribute("placeholder",t):this.hasAttribute("placeholder")&&this.removeAttribute("placeholder")}get autofocus(){return this.hasAttribute("autofocus")}set autofocus(t){t?this.hasAttribute("autofocus")||this.setAttribute("autofocus",""):this.hasAttribute("autofocus")&&this.removeAttribute("autofocus")}get form(){return this._form}get name(){return this.getAttribute("name")}get type(){return this.localName}}window.customElements.define("tinymce-editor",D)}();
//# sourceMappingURL=/sm/9018108aacb4b55f11324a33984a0998a4446fa46acd4f8d68ce9965e3e692b3.map